@using Microsoft.AspNetCore.Identity

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (SignInManager.IsSignedIn(User) && ViewBag.FirstWasUser != 1 || ViewBag.IsSignedIn == 1)
{
    <!DOCTYPE html>
    <html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" asp-href-include="lib/bootstrap/dist/css/*.min.css" />
        <title>@ViewBag.Title</title>
    </head>
    <body>
        <nav class="navbar navbar-default">
            <div class="container">
                <ul class="nav navbar-nav">
                    <li>
                        <a asp-controller="Home" asp-action="Index">Home Page</a>
                    </li>
                    <li>
                        <a asp-controller="Admin" asp-action="MovieMain">Movies</a>
                    </li>
                    <li>
                        <a asp-controller="Admin" asp-action="RoomMain">Rooms</a>
                    </li>
                    <li>
                        <a asp-controller="Admin" asp-action="MovieEventMain">Movie Events</a>
                    </li>
                    <li>
                        <a asp-controller="Admin" asp-action="UserReservationMain">Users and reservations</a>
                    </li>
                </ul>
            </div>
        </nav>
        <main>
            <div class="panel-body">
                @if (TempData["incorrect"] != null)
            {
                    <div class="alert alert-danger">@TempData["incorrect"]</div>
                }
        @if (TempData["successfull"] != null)
        {
                    <div class="alert alert-success">@TempData["successfull"]</div>
    }
    @if (TempData["add"] != null)
    {
                    <div class="alert alert-success">@TempData["add"]</div>
}
                @if (TempData["delete"] != null)
    {
                    <div class="alert alert-danger">@TempData["delete"]</div>
                }
                @if (TempData["edit"] != null)
    {
                    <div class="alert alert-warning">@TempData["edit"]</div>
                }
                @RenderBody()
            </div>
        </main>
    </body>
</html>
}
else
{
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" asp-href-include="lib/bootstrap/dist/css/*.min.css" />
    <title>@ViewBag.Title</title>
</head>
<body>
    <div class="panel-body">
        @if (TempData["incorrect"] != null)
{
            <div class="alert alert-danger">@TempData["incorrect"]</div>
        }
        @if (TempData["successfull"] != null)
{
            <div class="alert alert-success">@TempData["successfull"]</div>
        }
        @RenderBody()
    </div>
</body>
</html>
}